<UserControl x:Class="RosalEHealthcare.UI.WPF.Controls.NotificationToast"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             Width="350" MinHeight="80">

    <UserControl.Resources>
        <Storyboard x:Key="SlideIn">
            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                            From="400" To="0" Duration="0:0:0.3">
                <DoubleAnimation.EasingFunction>
                    <QuadraticEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                            From="0" To="1" Duration="0:0:0.3"/>
        </Storyboard>

        <Storyboard x:Key="SlideOut">
            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)"
                            From="0" To="400" Duration="0:0:0.25">
                <DoubleAnimation.EasingFunction>
                    <QuadraticEase EasingMode="EaseIn"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                            From="1" To="0" Duration="0:0:0.25"/>
        </Storyboard>
    </UserControl.Resources>

    <UserControl.RenderTransform>
        <TranslateTransform/>
    </UserControl.RenderTransform>

    <Border x:Name="MainBorder" Background="White" CornerRadius="10" 
           BorderThickness="0" Margin="10">
        <Border.Effect>
            <DropShadowEffect Color="#000000" BlurRadius="20" ShadowDepth="4" Opacity="0.15"/>
        </Border.Effect>

        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="5"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Color Accent Bar -->
            <Border x:Name="AccentBar" Grid.Column="0" Background="#4CAF50" 
                   CornerRadius="10,0,0,10"/>

            <!-- Content -->
            <Grid Grid.Column="1" Margin="15,12,12,12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Icon -->
                <Border Grid.Column="0" Width="40" Height="40" CornerRadius="20"
                       Background="#E8F5E9" Margin="0,0,12,0">
                    <materialDesign:PackIcon x:Name="ToastIcon" Kind="Bell" 
                                            Width="20" Height="20"
                                            Foreground="#4CAF50"
                                            HorizontalAlignment="Center"
                                            VerticalAlignment="Center"/>
                </Border>

                <!-- Text Content -->
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock x:Name="txtTitle" Text="Notification" 
                              FontSize="14" FontWeight="SemiBold" Foreground="#333"
                              TextTrimming="CharacterEllipsis"/>
                    <TextBlock x:Name="txtMessage" Text="Message content goes here" 
                              FontSize="12" Foreground="#666" Margin="0,4,0,0"
                              TextWrapping="Wrap" MaxHeight="40"
                              TextTrimming="CharacterEllipsis"/>
                    <TextBlock x:Name="txtTime" Text="Just now" 
                              FontSize="10" Foreground="#999" Margin="0,4,0,0"/>
                </StackPanel>

                <!-- Close Button -->
                <Button Grid.Column="2" Content="✕" Click="BtnClose_Click"
                       Background="Transparent" Foreground="#999"
                       BorderThickness="0" FontSize="14" Cursor="Hand"
                       VerticalAlignment="Top" Padding="5"
                       ToolTip="Dismiss">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="border" Background="{TemplateBinding Background}"
                                   CornerRadius="3" Padding="{TemplateBinding Padding}">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="border" Property="Background" Value="#F5F5F5"/>
                                    <Setter Property="Foreground" Value="#666"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
            </Grid>
        </Grid>
    </Border>
</UserControl>