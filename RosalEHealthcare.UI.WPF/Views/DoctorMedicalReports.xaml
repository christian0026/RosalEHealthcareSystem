<UserControl x:Class="RosalEHealthcare.UI.WPF.Views.DoctorMedicalReports"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:sys="clr-namespace:System;assembly=mscorlib"
             Background="#F5F5F5"
             MinWidth="1100">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="24">

            <!-- REPORTS OVERVIEW -->
            <TextBlock Text="REPORTS OVERVIEW" 
                       FontSize="16" 
                       FontWeight="Bold" 
                       Margin="0,0,0,12"/>

            <!-- TOGGLE BUTTONS -->
            <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                <Button x:Name="btnWeeklySummary" 
                        Content="📊 Weekly Summary" 
                        Background="#25A44A" 
                        Foreground="White"
                        Padding="16,10" 
                        Margin="0,0,12,0"
                        BorderThickness="0"
                        Click="BtnWeeklySummary_Click"/>
                <Button x:Name="btnMonthlyReport" 
                        Content="📅 Monthly Report" 
                        Background="White" 
                        Foreground="#666"
                        Padding="16,10"
                        BorderThickness="1"
                        BorderBrush="#DDD"
                        Click="BtnMonthlyReport_Click"/>
            </StackPanel>

            <!-- STATISTICS CARDS -->
            <UniformGrid Columns="4" Margin="0,0,0,24">
                <!-- Total Patients -->
                <Border Background="White" 
                        CornerRadius="8" 
                        Padding="20" 
                        Margin="0,0,12,0"
                        BorderBrush="#E0E0E0" 
                        BorderThickness="1">
                    <Grid>
                        <StackPanel VerticalAlignment="Top">
                            <TextBlock Text="Total Patients" 
                                       FontSize="14" 
                                       Foreground="#666"/>
                            <TextBlock x:Name="txtTotalPatients" 
                                       Text="2,245" 
                                       FontSize="32" 
                                       FontWeight="Bold" 
                                       Margin="0,8,0,0"/>
                            <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                                <TextBlock Text="✓" 
                                           Foreground="#25A44A" 
                                           FontSize="12" 
                                           Margin="0,0,4,0"/>
                                <TextBlock Text="+5% from last week" 
                                           FontSize="12" 
                                           Foreground="#25A44A"/>
                            </StackPanel>
                        </StackPanel>
                        <Border Background="#25A44A" 
                                Width="48" 
                                Height="48" 
                                CornerRadius="8"
                                HorizontalAlignment="Right" 
                                VerticalAlignment="Top">
                            <TextBlock Text="👥" 
                                       FontSize="24" 
                                       HorizontalAlignment="Center" 
                                       VerticalAlignment="Center"/>
                        </Border>
                    </Grid>
                </Border>

                <!-- Completed Appointments -->
                <Border Background="White" 
                        CornerRadius="8" 
                        Padding="20" 
                        Margin="0,0,12,0"
                        BorderBrush="#E0E0E0" 
                        BorderThickness="1">
                    <Grid>
                        <StackPanel VerticalAlignment="Top">
                            <TextBlock Text="Completed Appointments" 
                                       FontSize="14" 
                                       Foreground="#666"/>
                            <TextBlock x:Name="txtCompletedAppointments" 
                                       Text="987" 
                                       FontSize="32" 
                                       FontWeight="Bold" 
                                       Margin="0,8,0,0"/>
                            <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                                <TextBlock Text="✓" 
                                           Foreground="#2196F3" 
                                           FontSize="12" 
                                           Margin="0,0,4,0"/>
                                <TextBlock Text="+8% completion rate" 
                                           FontSize="12" 
                                           Foreground="#2196F3"/>
                            </StackPanel>
                        </StackPanel>
                        <Border Background="#2196F3" 
                                Width="48" 
                                Height="48" 
                                CornerRadius="8"
                                HorizontalAlignment="Right" 
                                VerticalAlignment="Top">
                            <TextBlock Text="✓" 
                                       FontSize="32" 
                                       Foreground="White"
                                       HorizontalAlignment="Center" 
                                       VerticalAlignment="Center"/>
                        </Border>
                    </Grid>
                </Border>

                <!-- Medicine Prescribed -->
                <Border Background="White" 
                        CornerRadius="8" 
                        Padding="20" 
                        Margin="0,0,12,0"
                        BorderBrush="#E0E0E0" 
                        BorderThickness="1">
                    <Grid>
                        <StackPanel VerticalAlignment="Top">
                            <TextBlock Text="Medicine Prescribed" 
                                       FontSize="14" 
                                       Foreground="#666"/>
                            <TextBlock x:Name="txtMedicinePrescribed" 
                                       Text="1,643" 
                                       FontSize="32" 
                                       FontWeight="Bold" 
                                       Margin="0,8,0,0"/>
                            <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                                <TextBlock Text="✓" 
                                           Foreground="#FF9800" 
                                           FontSize="12" 
                                           Margin="0,0,4,0"/>
                                <TextBlock Text="+8% from last week" 
                                           FontSize="12" 
                                           Foreground="#FF9800"/>
                            </StackPanel>
                        </StackPanel>
                        <Border Background="#FF9800" 
                                Width="48" 
                                Height="48" 
                                CornerRadius="8"
                                HorizontalAlignment="Right" 
                                VerticalAlignment="Top">
                            <TextBlock Text="💊" 
                                       FontSize="24" 
                                       HorizontalAlignment="Center" 
                                       VerticalAlignment="Center"/>
                        </Border>
                    </Grid>
                </Border>

                <!-- Low Stock Alerts -->
                <Border Background="White" 
                        CornerRadius="8" 
                        Padding="20"
                        BorderBrush="#E0E0E0" 
                        BorderThickness="1">
                    <Grid>
                        <StackPanel VerticalAlignment="Top">
                            <TextBlock Text="Low Stock Alerts" 
                                       FontSize="14" 
                                       Foreground="#666"/>
                            <TextBlock x:Name="txtLowStockAlerts" 
                                       Text="8" 
                                       FontSize="32" 
                                       FontWeight="Bold" 
                                       Margin="0,8,0,0"/>
                            <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                                <TextBlock Text="🔒" 
                                           Foreground="#F44336" 
                                           FontSize="12" 
                                           Margin="0,0,4,0"/>
                                <TextBlock Text="Immediate Restock Needed" 
                                           FontSize="12" 
                                           Foreground="#F44336"/>
                            </StackPanel>
                        </StackPanel>
                        <Border Background="#F44336" 
                                Width="48" 
                                Height="48" 
                                CornerRadius="8"
                                HorizontalAlignment="Right" 
                                VerticalAlignment="Top">
                            <TextBlock Text="✖" 
                                       FontSize="32" 
                                       Foreground="White"
                                       HorizontalAlignment="Center" 
                                       VerticalAlignment="Center"/>
                        </Border>
                    </Grid>
                </Border>
            </UniformGrid>

            <!-- GENERATE REPORTS SECTION -->
            <Border Background="White" 
                    CornerRadius="8" 
                    Padding="24" 
                    Margin="0,0,0,24"
                    BorderBrush="#E0E0E0" 
                    BorderThickness="1">
                <StackPanel>
                    <TextBlock Text="Generate Reports" 
                               FontSize="18" 
                               FontWeight="Bold" 
                               Margin="0,0,0,16"/>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0" Margin="0,0,12,0">
                            <TextBlock Text="Condition Severity" 
                                       FontSize="12" 
                                       Foreground="#666" 
                                       Margin="0,0,0,4"/>
                            <ComboBox x:Name="cbConditionSeverity" 
                                      Height="40" 
                                      Padding="8"
                                      BorderBrush="#CCC">
                                <ComboBoxItem Content="All Reports" IsSelected="True"/>
                                <ComboBoxItem Content="Patient History"/>
                                <ComboBoxItem Content="Appointments"/>
                                <ComboBoxItem Content="Inventory"/>
                                <ComboBoxItem Content="Custom"/>
                            </ComboBox>
                        </StackPanel>

                        <StackPanel Grid.Column="1" Margin="0,0,12,0">
                            <TextBlock Text="Data Range" 
                                       FontSize="12" 
                                       Foreground="#666" 
                                       Margin="0,0,0,4"/>
                            <ComboBox x:Name="cbDataRange" 
                                      Height="40" 
                                      Padding="8"
                                      BorderBrush="#CCC">
                                <ComboBoxItem Content="Last 7 Days" IsSelected="True"/>
                                <ComboBoxItem Content="Last 30 Days"/>
                                <ComboBoxItem Content="Last 3 Months"/>
                                <ComboBoxItem Content="Last 6 Months"/>
                                <ComboBoxItem Content="This Year"/>
                            </ComboBox>
                        </StackPanel>

                        <StackPanel Grid.Column="2" Margin="0,0,12,0">
                            <TextBlock Text="From" 
                                       FontSize="12" 
                                       Foreground="#666" 
                                       Margin="0,0,0,4"/>
                            <DatePicker x:Name="dpFromDate" 
                                        Height="40" 
                                        Padding="8"
                                        BorderBrush="#CCC"/>
                        </StackPanel>

                        <StackPanel Grid.Column="3">
                            <TextBlock Text="To Date" 
                                       FontSize="12" 
                                       Foreground="#666" 
                                       Margin="0,0,0,4"/>
                            <DatePicker x:Name="dpToDate" 
                                        Height="40" 
                                        Padding="8"
                                        BorderBrush="#CCC"/>
                        </StackPanel>
                    </Grid>

                    <!-- Action Buttons -->
                    <StackPanel Orientation="Horizontal" 
                                HorizontalAlignment="Right" 
                                Margin="0,16,0,0">
                        <Button Content="Reset Filters" 
                                Background="#757575" 
                                Foreground="White"
                                Padding="20,10" 
                                Margin="0,0,12,0"
                                BorderThickness="0"
                                Click="BtnResetFilters_Click"/>
                        <Button Content="Generate Report" 
                                Background="#25A44A" 
                                Foreground="White"
                                Padding="20,10" 
                                Margin="0,0,12,0"
                                BorderThickness="0"
                                Click="BtnGenerateReport_Click"/>
                        <Button Content="Export to PDF" 
                                Background="#2196F3" 
                                Foreground="White"
                                Padding="20,10"
                                BorderThickness="0"
                                Click="BtnExportToPDF_Click"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- REPORT CARDS GRID -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- PATIENT HISTORY REPORTS -->
                <Border Grid.Row="0" 
                        Grid.Column="0" 
                        Background="White" 
                        CornerRadius="8" 
                        Padding="24" 
                        Margin="0,0,12,12"
                        BorderBrush="#E0E0E0" 
                        BorderThickness="1">
                    <StackPanel>
                        <Grid Margin="0,0,0,16">
                            <Border Background="#25A44A" 
                                    Width="56" 
                                    Height="56" 
                                    CornerRadius="8"
                                    HorizontalAlignment="Left">
                                <TextBlock Text="👥" 
                                           FontSize="28" 
                                           HorizontalAlignment="Center" 
                                           VerticalAlignment="Center"/>
                            </Border>
                        </Grid>

                        <TextBlock Text="Patient History Reports" 
                                   FontSize="18" 
                                   FontWeight="Bold" 
                                   Margin="0,0,0,8"/>
                        <TextBlock Text="Comprehensive patient visit logs, medical histories, and treatment records with search and filter capabilities." 
                                   FontSize="12" 
                                   Foreground="#666" 
                                   TextWrapping="Wrap"
                                   Margin="0,0,0,16"/>

                        <UniformGrid Columns="2" Rows="1">
                            <StackPanel Margin="0,0,8,0">
                                <TextBlock x:Name="txtPatientHistoryTotal" 
                                           Text="1,245" 
                                           FontSize="24" 
                                           FontWeight="Bold"/>
                                <TextBlock Text="TOTAL PATIENTS" 
                                           FontSize="10" 
                                           Foreground="#999"/>
                            </StackPanel>
                            <StackPanel Margin="8,0,0,0">
                                <TextBlock x:Name="txtPatientHistoryVisits" 
                                           Text="3,567" 
                                           FontSize="24" 
                                           FontWeight="Bold"/>
                                <TextBlock Text="TOTAL VISITS" 
                                           FontSize="10" 
                                           Foreground="#999"/>
                            </StackPanel>
                        </UniformGrid>

                        <StackPanel Orientation="Horizontal" Margin="0,16,0,0">
                            <Button Content="View Report" 
                                    Background="#25A44A" 
                                    Foreground="White"
                                    Padding="16,8" 
                                    Margin="0,0,8,0"
                                    BorderThickness="0"
                                    Click="BtnViewPatientReport_Click"/>
                            <Button Content="Print" 
                                    Background="#757575" 
                                    Foreground="White"
                                    Padding="16,8"
                                    BorderThickness="0"
                                    Click="BtnPrintPatientReport_Click"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- APPOINTMENT REPORTS -->
                <Border Grid.Row="0" 
                        Grid.Column="1" 
                        Background="White" 
                        CornerRadius="8" 
                        Padding="24" 
                        Margin="0,0,0,12"
                        BorderBrush="#E0E0E0" 
                        BorderThickness="1">
                    <StackPanel>
                        <Grid Margin="0,0,0,16">
                            <Border Background="#2196F3" 
                                    Width="56" 
                                    Height="56" 
                                    CornerRadius="8"
                                    HorizontalAlignment="Left">
                                <TextBlock Text="📅" 
                                           FontSize="28" 
                                           HorizontalAlignment="Center" 
                                           VerticalAlignment="Center"/>
                            </Border>
                        </Grid>

                        <TextBlock Text="Appointment Reports" 
                                   FontSize="18" 
                                   FontWeight="Bold" 
                                   Margin="0,0,0,8"/>
                        <TextBlock Text="Daily, weekly, and monthly appointment summaries with status tracking and attendance analysis." 
                                   FontSize="12" 
                                   Foreground="#666" 
                                   TextWrapping="Wrap"
                                   Margin="0,0,0,16"/>

                        <UniformGrid Columns="2" Rows="1">
                            <StackPanel Margin="0,0,8,0">
                                <TextBlock x:Name="txtAppointmentTotal" 
                                           Text="87" 
                                           FontSize="24" 
                                           FontWeight="Bold"/>
                                <TextBlock Text="TOTAL APPOINTMENTS" 
                                           FontSize="10" 
                                           Foreground="#999"/>
                            </StackPanel>
                            <StackPanel Margin="8,0,0,0">
                                <TextBlock x:Name="txtAppointmentShowRate" 
                                           Text="98%" 
                                           FontSize="24" 
                                           FontWeight="Bold"/>
                                <TextBlock Text="SHOW RATE" 
                                           FontSize="10" 
                                           Foreground="#999"/>
                            </StackPanel>
                        </UniformGrid>

                        <StackPanel Orientation="Horizontal" Margin="0,16,0,0">
                            <Button Content="View Report" 
                                    Background="#25A44A" 
                                    Foreground="White"
                                    Padding="16,8" 
                                    Margin="0,0,8,0"
                                    BorderThickness="0"
                                    Click="BtnViewAppointmentReport_Click"/>
                            <Button Content="Print" 
                                    Background="#757575" 
                                    Foreground="White"
                                    Padding="16,8"
                                    BorderThickness="0"
                                    Click="BtnPrintAppointmentReport_Click"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- INVENTORY REPORTS -->
                <Border Grid.Row="1" 
                        Grid.Column="0" 
                        Background="White" 
                        CornerRadius="8" 
                        Padding="24" 
                        Margin="0,0,12,0"
                        BorderBrush="#E0E0E0" 
                        BorderThickness="1">
                    <StackPanel>
                        <Grid Margin="0,0,0,16">
                            <Border Background="#FF9800" 
                                    Width="56" 
                                    Height="56" 
                                    CornerRadius="8"
                                    HorizontalAlignment="Left">
                                <TextBlock Text="💊" 
                                           FontSize="28" 
                                           HorizontalAlignment="Center" 
                                           VerticalAlignment="Center"/>
                            </Border>
                        </Grid>

                        <TextBlock Text="Inventory Reports" 
                                   FontSize="18" 
                                   FontWeight="Bold" 
                                   Margin="0,0,0,8"/>
                        <TextBlock Text="Medicine stock levels, expiration tracking, usage patterns, and procurement recommendations." 
                                   FontSize="12" 
                                   Foreground="#666" 
                                   TextWrapping="Wrap"
                                   Margin="0,0,0,16"/>

                        <UniformGrid Columns="2" Rows="1">
                            <StackPanel Margin="0,0,8,0">
                                <TextBlock x:Name="txtInventoryItems" 
                                           Text="156" 
                                           FontSize="24" 
                                           FontWeight="Bold"/>
                                <TextBlock Text="MEDICINE ITEMS" 
                                           FontSize="10" 
                                           Foreground="#999"/>
                            </StackPanel>
                            <StackPanel Margin="8,0,0,0">
                                <TextBlock x:Name="txtInventoryLowStock" 
                                           Text="23" 
                                           FontSize="24" 
                                           FontWeight="Bold"/>
                                <TextBlock Text="LOW STOCK" 
                                           FontSize="10" 
                                           Foreground="#999"/>
                            </StackPanel>
                        </UniformGrid>

                        <StackPanel Orientation="Horizontal" Margin="0,16,0,0">
                            <Button Content="View Report" 
                                    Background="#25A44A" 
                                    Foreground="White"
                                    Padding="16,8" 
                                    Margin="0,0,8,0"
                                    BorderThickness="0"
                                    Click="BtnViewInventoryReport_Click"/>
                            <Button Content="Print" 
                                    Background="#757575" 
                                    Foreground="White"
                                    Padding="16,8"
                                    BorderThickness="0"
                                    Click="BtnPrintInventoryReport_Click"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- CUSTOM REPORTS -->
                <Border Grid.Row="1" 
                        Grid.Column="1" 
                        Background="White" 
                        CornerRadius="8" 
                        Padding="24"
                        BorderBrush="#E0E0E0" 
                        BorderThickness="1">
                    <StackPanel>
                        <Grid Margin="0,0,0,16">
                            <Border Background="#E91E63" 
                                    Width="56" 
                                    Height="56" 
                                    CornerRadius="8"
                                    HorizontalAlignment="Left">
                                <TextBlock Text="⚙" 
                                           FontSize="28" 
                                           Foreground="White"
                                           HorizontalAlignment="Center" 
                                           VerticalAlignment="Center"/>
                            </Border>
                        </Grid>

                        <TextBlock Text="Custom Reports" 
                                   FontSize="18" 
                                   FontWeight="Bold" 
                                   Margin="0,0,0,8"/>
                        <TextBlock Text="Build custom reports with specific parameters, date ranges, and data combinations tailored to your needs." 
                                   FontSize="12" 
                                   Foreground="#666" 
                                   TextWrapping="Wrap"
                                   Margin="0,0,0,16"/>

                        <UniformGrid Columns="2" Rows="1">
                            <StackPanel Margin="0,0,8,0">
                                <TextBlock x:Name="txtCustomSaved" 
                                           Text="12" 
                                           FontSize="24" 
                                           FontWeight="Bold"/>
                                <TextBlock Text="SAVED TEMPLATES" 
                                           FontSize="10" 
                                           Foreground="#999"/>
                            </StackPanel>
                            <StackPanel Margin="8,0,0,0">
                                <TextBlock x:Name="txtCustomGenerated" 
                                           Text="156" 
                                           FontSize="24" 
                                           FontWeight="Bold"/>
                                <TextBlock Text="GENERATED" 
                                           FontSize="10" 
                                           Foreground="#999"/>
                            </StackPanel>
                        </UniformGrid>

                        <StackPanel Orientation="Horizontal" Margin="0,16,0,0">
                            <Button Content="Create Report" 
                                    Background="#25A44A" 
                                    Foreground="White"
                                    Padding="16,8" 
                                    Margin="0,0,8,0"
                                    BorderThickness="0"
                                    Click="BtnCreateCustomReport_Click"/>
                            <Button Content="Templates" 
                                    Background="#757575" 
                                    Foreground="White"
                                    Padding="16,8"
                                    BorderThickness="0"
                                    Click="BtnViewTemplates_Click"/>
                        </StackPanel>
                    </StackPanel>
                </Border>
            </Grid>
        </StackPanel>
    </ScrollViewer>
</UserControl>