<Window x:Class="RosalEHealthcare.UI.WPF.Views.AddMedicalHistoryDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Add Medical History Record" 
        Height="700" Width="800"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="#F5F5F5">

    <Grid Margin="25">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="Add Medical History Record" 
                      FontSize="24" FontWeight="Bold" 
                      Foreground="#2E7D32"/>
            <TextBlock x:Name="txtPatientName" 
                      FontSize="14" Foreground="#666" 
                      Margin="0,5,0,0"/>
        </StackPanel>

        <!-- Form -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <!-- Visit Information -->
                <Border Background="White" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock Text="Visit Information" 
                                  FontSize="16" FontWeight="SemiBold" 
                                  Foreground="#333" Margin="0,0,0,15"/>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="15"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0">
                                <TextBlock Text="Visit Date *" FontSize="12" Foreground="#666" Margin="0,0,0,5"/>
                                <DatePicker x:Name="dpVisitDate" Height="40" Margin="0,0,0,15"/>


                                <TextBlock Text="Visit Type *" FontSize="12" Foreground="#666" Margin="0,0,0,5"/>
                                <ComboBox x:Name="cbVisitType" Height="40" Margin="0,0,0,15">
                                    <ComboBoxItem Content="Regular" IsSelected="True"/>
                                    <ComboBoxItem Content="Follow-up"/>
                                    <ComboBoxItem Content="Emergency"/>
                                    <ComboBoxItem Content="Consultation"/>
                                </ComboBox>

                                <TextBlock Text="Severity" FontSize="12" Foreground="#666" Margin="0,0,0,5"/>
                                <ComboBox x:Name="cbSeverity" Height="40">
                                    <ComboBoxItem Content="Mild" IsSelected="True"/>
                                    <ComboBoxItem Content="Moderate"/>
                                    <ComboBoxItem Content="Severe"/>
                                </ComboBox>
                            </StackPanel>

                            <StackPanel Grid.Column="2">
                                <TextBlock Text="Doctor Name *" FontSize="12" Foreground="#666" Margin="0,0,0,5"/>
                                <TextBox x:Name="txtDoctorName" Height="40" Padding="10" 
                                        BorderBrush="#E0E0E0" Margin="0,0,0,15"/>

                                <CheckBox x:Name="chkFollowUp" Content="Follow-up Required" 
                                         Margin="0,0,0,15" FontSize="13"/>

                                <TextBlock Text="Next Follow-up Date" FontSize="12" Foreground="#666" 
                                          Margin="0,0,0,5"
                                          IsEnabled="{Binding IsChecked, ElementName=chkFollowUp}"/>
                                <DatePicker x:Name="dpFollowUpDate" Height="40"
                                           IsEnabled="{Binding IsChecked, ElementName=chkFollowUp}"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Vital Signs -->
                <Border Background="White" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock Text="Vital Signs" 
                                  FontSize="16" FontWeight="SemiBold" 
                                  Foreground="#333" Margin="0,0,0,15"/>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="15"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="15"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0">
                                <TextBlock Text="Blood Pressure" FontSize="12" Foreground="#666" Margin="0,0,0,5"/>
                                <TextBox x:Name="txtBloodPressure" Height="40" Padding="10" 
                                        BorderBrush="#E0E0E0" 
                                        materialDesign:HintAssist.Hint="e.g., 120/80"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2">
                                <TextBlock Text="Temperature (°C)" FontSize="12" Foreground="#666" Margin="0,0,0,5"/>
                                <TextBox x:Name="txtTemperature" Height="40" Padding="10" 
                                        BorderBrush="#E0E0E0"
                                        materialDesign:HintAssist.Hint="e.g., 36.5"/>
                            </StackPanel>

                            <StackPanel Grid.Column="4">
                                <TextBlock Text="Heart Rate (BPM)" FontSize="12" Foreground="#666" Margin="0,0,0,5"/>
                                <TextBox x:Name="txtHeartRate" Height="40" Padding="10" 
                                        BorderBrush="#E0E0E0"
                                        materialDesign:HintAssist.Hint="e.g., 72"/>
                            </StackPanel>
                        </Grid>

                        <Grid Margin="0,15,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="15"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="15"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0">
                                <TextBlock Text="Respiratory Rate" FontSize="12" Foreground="#666" Margin="0,0,0,5"/>
                                <TextBox x:Name="txtRespiratoryRate" Height="40" Padding="10" 
                                        BorderBrush="#E0E0E0"
                                        materialDesign:HintAssist.Hint="e.g., 16"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2">
                                <TextBlock Text="Weight (kg)" FontSize="12" Foreground="#666" Margin="0,0,0,5"/>
                                <TextBox x:Name="txtWeight" Height="40" Padding="10" 
                                        BorderBrush="#E0E0E0"
                                        materialDesign:HintAssist.Hint="e.g., 70"/>
                            </StackPanel>

                            <StackPanel Grid.Column="4">
                                <TextBlock Text="Height (cm)" FontSize="12" Foreground="#666" Margin="0,0,0,5"/>
                                <TextBox x:Name="txtHeight" Height="40" Padding="10" 
                                        BorderBrush="#E0E0E0"
                                        materialDesign:HintAssist.Hint="e.g., 170"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Diagnosis & Treatment -->
                <Border Background="White" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock Text="Diagnosis &amp; Treatment" 
                                  FontSize="16" FontWeight="SemiBold" 
                                  Foreground="#333" Margin="0,0,0,15"/>

                        <TextBlock Text="Diagnosis *" FontSize="12" Foreground="#666" Margin="0,0,0,5"/>
                        <TextBox x:Name="txtDiagnosis" Height="40" Padding="10" 
                                BorderBrush="#E0E0E0" Margin="0,0,0,15"/>

                        <TextBlock Text="Symptoms" FontSize="12" Foreground="#666" Margin="0,0,0,5"/>
                        <TextBox x:Name="txtSymptoms" Height="80" Padding="10" 
                                TextWrapping="Wrap" AcceptsReturn="True"
                                BorderBrush="#E0E0E0" VerticalScrollBarVisibility="Auto"
                                Margin="0,0,0,15"/>

                        <TextBlock Text="Treatment" FontSize="12" Foreground="#666" Margin="0,0,0,5"/>
                        <TextBox x:Name="txtTreatment" Height="80" Padding="10" 
                                TextWrapping="Wrap" AcceptsReturn="True"
                                BorderBrush="#E0E0E0" VerticalScrollBarVisibility="Auto"
                                Margin="0,0,0,15"/>

                        <TextBlock Text="Clinical Notes" FontSize="12" Foreground="#666" Margin="0,0,0,5"/>
                        <TextBox x:Name="txtClinicalNotes" Height="80" Padding="10" 
                                TextWrapping="Wrap" AcceptsReturn="True"
                                BorderBrush="#E0E0E0" VerticalScrollBarVisibility="Auto"
                                Margin="0,0,0,15"/>

                        <TextBlock Text="Recommendations" FontSize="12" Foreground="#666" Margin="0,0,0,5"/>
                        <TextBox x:Name="txtRecommendations" Height="80" Padding="10" 
                                TextWrapping="Wrap" AcceptsReturn="True"
                                BorderBrush="#E0E0E0" VerticalScrollBarVisibility="Auto"/>
                    </StackPanel>
                </Border>

                <!-- Lab Tests (Optional) -->
                <Border Background="White" CornerRadius="8" Padding="20">
                    <StackPanel>
                        <TextBlock Text="Lab Tests (Optional)" 
                                  FontSize="16" FontWeight="SemiBold" 
                                  Foreground="#333" Margin="0,0,0,15"/>

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="15"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0">
                                <TextBlock Text="Lab Test Name" FontSize="12" Foreground="#666" Margin="0,0,0,5"/>
                                <TextBox x:Name="txtLabTestName" Height="40" Padding="10" 
                                        BorderBrush="#E0E0E0" Margin="0,0,0,15"/>

                                <TextBlock Text="Test Date" FontSize="12" Foreground="#666" Margin="0,0,0,5"/>
                                <DatePicker x:Name="dpLabTestDate" Height="40"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2">
                                <TextBlock Text="Lab Test Result" FontSize="12" Foreground="#666" Margin="0,0,0,5"/>
                                <TextBox x:Name="txtLabTestResult" Height="115" Padding="10" 
                                        TextWrapping="Wrap" AcceptsReturn="True"
                                        BorderBrush="#E0E0E0" VerticalScrollBarVisibility="Auto"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>

        <!-- Buttons -->
        <Grid Grid.Row="2" Margin="0,20,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <Button Grid.Column="1" Content="Cancel" Click="BtnCancel_Click"
                   Width="120" Height="45" Margin="0,0,10,0"
                   Background="White" Foreground="#666" 
                   BorderBrush="#E0E0E0" BorderThickness="1"/>

            <Button Grid.Column="2" Content="Save Record" Click="BtnSave_Click"
                   Width="140" Height="45"
                   Background="#4CAF50" Foreground="White" 
                   BorderThickness="0" FontWeight="Medium"/>
        </Grid>
    </Grid>
</Window>